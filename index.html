<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>JavaScript Replace Character in a String</title>
<script>
    function strReplace(text){
        let convList = [
            ["á", "\\'a"], ["é", "\\'e"], ["í", "\\'i"],["ó", "\\'o"],["ú", "\\'u"],["Á", "\\'A"],["É", "\\'E"],["Í", "\\'I"],
            ["Ó", "\\'O"],["Ú", "\\'U"],["à", "\\`a"],["À", "\\`A"],["ç", "\\c {c}"],["ã", "\\~a"],["õ", "\\~o"],["â", "\\^a"],
            ["ê", "\\^e"],["î", "\\^i"],["ô", "\\^o"],["û", "\\^u"],["Â", "\\^A"],["Ê", "\\^E"],["Î", "\\^I"],["Ô", "\\^O"],
            ["Û", "\\^U"],["...", "\\ldots"],[" \"", " ``"],["\" ", "'' "],["\".", " ''."],["“", "``"],["”", "''"],["_", "\\textunderscore "],
            ['\u03B1','\\begin{math} \\alpha \\end{math}'],['\u03B1','\\begin{math} \\alpha \\end{math}'],
            ['\u03B2','\\begin{math} \\beta \\end{math}'],['\u03B3','\\begin{math} \\gamma \\end{math}'],
            ['\u03B4','\\begin{math} \\delta \\end{math}'],['\u03B5','\\begin{math} \\epsilon \\end{math}'],
            ['\u03B6','\\begin{math} \\zeta \\end{math}'],['\u03B7','\\begin{math} \\eta \\end{math}'],
            ['\u03B8','\\begin{math} \\theta \\end{math}'],['\u03B9','\\begin{math} \\iota \\end{math}'],
            ['\u03BA','\\begin{math} \\kappa \\end{math}'],['\u03BB','\\begin{math} \\lambda \\end{math}'],
            ['\u03BC','\\begin{math} \\mu \\end{math}'],['\u00B5','\\begin{math} \\textmu \\end{math}'],
            ['\u03BD','\\begin{math} \\nu \\end{math}'],['\u03BE','\\begin{math} \\xi \\end{math}'],
            ['\u03C0','\\begin{math} \\pi \\end{math}'],['\u03D6','\\begin{math} \\varpi \\end{math}'],
            ['\u03C1','\\begin{math} \\rho \\end{math}'],['\u03F1','\\begin{math} \\varrho \\end{math}'],
            ['\u03C3','\\begin{math} \\sigma \\end{math}'],['\u03C4','\\begin{math} \\tau \\end{math}'],
            ['\u03C5','\\begin{math} \\upsilon \\end{math}'],['\u03C6','\\begin{math} \\phi \\end{math}'],
            ['\u03C7','\\begin{math} \\chi \\end{math}'],['\u03C8','\\begin{math} \\psi \\end{math}'],
            ['\u03C9','\\begin{math} \\omega \\end{math}'],['\u0393','\\begin{math} \\Gamma \\end{math}'],
            ['\u0394','\\begin{math} \\Delta \\end{math}'],['\u0398','\\begin{math} \\Theta \\end{math}'],
            ['\u039B','\\begin{math} \\Lambda \\end{math}'],['\u039E','\\begin{math} \\Xi \\end{math}'],
            ['\u03A0','\\begin{math} \\Pi \\end{math}'],['\u03A3','\\begin{math} \\Sigma \\end{math}'],
            ['\u03A5','\\begin{math} \\Upsilon \\end{math}'],['\u03A6','\\begin{math} \\Phi \\end{math}'],
            ['\u03A8','\\begin{math} \\Psi \\end{math}'],['\u03A9','\\begin{math} \\Omega \\end{math}'],
            ['\u00B7','\\begin{math} \\cdot \\end{math}'],['\u00D7','\\begin{math} \\times \\end{math}'],
            ['\u00B1','\\begin{math} \\pm \\end{math}'],['\u2213','\\begin{math} \\mp \\end{math}'],
            ['\u2202','\\begin{math} \\partial \\end{math}'],['\u2207','\\begin{math} \\nabla \\end{math}'],
            ['\u221E','\\begin{math} \\infty \\end{math}'],['\u222B','\\begin{math} \\int \\end{math}'],
            ['\u2248','\\begin{math} \\approx \\end{math}'],['\u2260','\\begin{math} \\neq \\end{math}'],
            ['\u220A','\\begin{math} \\in \\end{math}'],['\u2264','\\begin{math} \\leq \\end{math}'],
            ['\u2265','\\begin{math} \\geq \\end{math}'],['\u223C','\\begin{math} \\sim \\end{math}'],
            ['\u221D','\\begin{math} \\propto \\end{math}'],['\u00F8','\\begin{math} \\diameter \\end{math}'],
            ['\u00BD','\\begin{math} \\onehalf \\end{math}'],['\u00BC','\\begin{math} \\onequarter \\end{math}'],
            ['\u00B2','\\begin{math} \\twosuperior \\end{math}'],['\u00B3','\\begin{math} \\threesuperior \\end{math}'],
            ['\u03A9','\\begin{math} \\ohm \\end{math}']
        ];

        let newText = "";
        convList.forEach(conversao => {
            for (var i = 0; i < text.length; i++) {
                newText = text.replace(conversao[0], conversao[1]);
                text = newText;
            }
        });

        document.getElementById("idText").value = newText;
    }

    function toItalic(text){
        let itWords;
        itWords = document.getElementById("idTxtItalics").value;
        if(itWords != ""){
            let listItWord = [];
            listItWords = itWords.split(",");
            listItWords.forEach(word => {
                let itCodeWord = '\\textit{' + word + '}';
                text = replaceAll(text,word,itCodeWord);
            });
        }
        return text;
    }

    function toBold(text){
        let bWords;
        bWords = document.getElementById("idTxtBolds").value;
        if(bWords != ""){
            let listBWord = [];
            listBWords = bWords.split(",");
            listBWords.forEach(word => {
                let bCodeWord = '\\textbf{' + word + '}';
                text = replaceAll(text,word,bCodeWord);
            });
        }
        return text;
    }

    function replaceAll(str, find, replace) {
        return str.replace(new RegExp(find, 'g'), replace);
    }

    function strPaste(){

        let pasteArea = document.getElementById("idText");

        pasteArea.value = '';

        navigator.clipboard.readText()
        .then((text)=>{
            pasteArea.value = text;
        });

    }

    function strCopy(){
        var text = document.getElementById("idText").value;

        var textField = document.createElement('textarea');

        textField.innerText = text;

        document.body.appendChild(textField);

        textField.select();

        document.execCommand('copy');

        textField.remove();

    }

    function run(text){

        //var ccaractere = '\u03B1';
        //text = ccaractere;
        //console.log(ccaractere);

        text = toItalic(text);

        text = toBold(text);

        strReplace(text);

    }
</script>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
</head>
<body>
    <div class="jumbotron">
        <h2 class="display-5">LaTex Symbols Converter</h2>
        <hr class="my-4">
        <form>     
            <div class="form-group">
                <label for="exampleFormControlTextarea1">Text to convert to LaTex:</label>
                <textarea class="form-control" id="idText" rows="6"></textarea>    
                <label for="exampleFormControlSelect1">Inserir palavras em itálico e negrito separados por ',':</label>
                <div class="row">
                    <div class="col">
                        <label for="exampleFormControlSelect1">Itálico:</label>
                    </div>
                    <div class="col">
                        <label for="exampleFormControlSelect1">Negrito:</label>
                    </div>
                    <div class="w-100"></div>
                    <div class="col">
                        <input class="form-control" id="idTxtItalics" type="text" placeholder="Palavras em itálico">
                    </div>
                    <div class="col">
                        <input class="form-control" id="idTxtBolds" type="text" placeholder="Palavras em negrito">
                    </div> 
                </div>
            </div>
        </form>
        <p>Click convert to get your laTex text.</p>
        <a class="btn btn-primary btn-lg" href="#" onclick="strPaste();" role="button">Paste</a>
        <a class="btn btn-primary btn-lg" href="#" onclick="run($('#idText').val());" role="button">Convert</a>
        <a class="btn btn-primary btn-lg" href="#" onclick="strCopy();" role="button">Copy</a>
    </div>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
</body>
</html>